# GitCommit 项目软件测试文档（V1.0）

## 文档信息

| 文档状态                       | 保密级别  | 文档编号          |
| ------------------------------ | --------- | ----------------- |
| \[√] 草稿 \[ ] 修订 \[ ] 发布 | 内部公开  | GIT-TEST-20250920 |
| 管理部门                       | 修订年月  | 版本号            |
| GitCommit 测试组               | 2025.9.20 | V1.0              |

## 变更履历

| 序号 | 变更日期  | 版本 | 变更位置 | 变更原因 |
| ---- | --------- | ---- | -------- | -------- |
| 1    | 2025.9.20 | V1.0 | 全文     | 建立初稿 |

## 目录

1. 测试概述（4）
2. 测试策略（5）
3. 功能测试（6）

   3.1 日志上传与预处理模块（LOG-UP）（6）

   3.2 日志解析与分析模块（LOG-PA）（10）

   3.3 可视化与交互模块（LOG-VI）（13）

   3.4 异常解决方案排序模块（LOG-SS）（16）
4. 非功能测试（20）

   4.1 性能测试（20）

   4.2 可靠性测试（22）

   4.3 安全性测试（23）
5. 测试环境与工具（24）
6. 测试执行与缺陷管理（25）
7. 测试交付物（26）

---

## 1. 测试概述

### 1.1 测试目的

* 验证 GitCommit 项目（VS Code 大模型日志分析插件）所有功能需求和非功能需求的实现符合性。
* 确保插件在目标用户场景中稳定、高效运行，满足性能指标（解析准确率 > 96%、100MB 文件处理 0 秒等）。
* 识别功能缺陷、性能瓶颈、兼容性问题及安全风险，为开发修复提供明确依据。
* 保障用户体验达到需求预期，支持软件开发人员、DevOps 工程师等用户的日志分析工作。

### 1.2 测试范围

* **功能范围**：覆盖 4 大模块所有一级 / 二级功能，包括日志上传（LOG-UP）、解析分析（LOG-PA）、可视化交互（LOG-VI）、解决方案排序（LOG-SS）。
* **非功能范围**：性能需求（响应时间、吞吐量、准确性）、可靠性需求（可用性、容错性、恢复能力）、安全性需求（数据隐私、访问控制、审计日志）。
* **环境范围**：支持的 VS Code 版本（最新 3 个稳定版）、操作系统（Windows 10/11、macOS 最新 2 版、Ubuntu 20.04/22.04）。

### 1.3 参考资料

* 《GitCommit 项目需求规格说明书（V1.0）》
* 《LogLLM: Log-based Anomaly Detection Using Large Language Models》学术论文
* 《VS Code Extension API Documentation》（版本 1.84）
* 《CS5351 软件工程课程 ppt 汇总》

---

## 2. 测试策略

### 2.1 测试类型

* 功能测试：黑盒测试为主，验证功能是否符合需求描述，包括正常场景、异常场景、边界场景。
* 性能测试：负载测试、并发测试、响应时间测试，验证性能指标达标。
* 兼容性测试：跨系统、跨 VS Code 版本测试，确保插件兼容目标环境。
* 安全性测试：数据传输加密、隐私保护、API 密钥存储安全测试。
* 易用性测试：界面交互流畅性、提示清晰度、操作便捷性验证。

### 2.2 测试优先级定义

* P0（阻塞级）：核心功能无法使用、性能不达标、严重安全漏洞，需立即修复。
* P1（高优先级）：重要功能异常、非核心性能问题、影响主要用户场景的兼容性问题。
* P2（中优先级）：边缘功能缺陷、轻微性能优化、易用性细节问题。
* P3（低优先级）：界面文案规范、非关键场景的小瑕疵，不影响核心使用。

### 2.3 测试方法

* 功能测试：基于需求设计测试用例，通过手动执行验证（关键流程自动化辅助）。
* 性能测试：使用 JMeter 模拟并发场景，通过日志分析响应时间和资源占用。
* 兼容性测试：搭建多环境测试矩阵，逐一验证功能可用性。
* 安全性测试：静态代码扫描、网络抓包分析、隐私数据传输验证。

---

## 3. 功能测试

### 3.1 日志上传与预处理模块（LOG-UP）

#### 3.1.1 测试目标

验证日志文件上传（LOG-UP-01）和隐私信息屏蔽（LOG-UP-02）功能及子功能的完整性和准确性，确保文件上传支持指定格式和大小，隐私信息屏蔽有效。

#### 3.1.2 核心测试用例

| 用例 ID   | 测试场景                           | 测试步骤                                                                                             | 预期结果                                                                                                | 关联功能                              | 优先级 |
| --------- | ---------------------------------- | ---------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------- | ------------------------------------- | ------ |
| TC-UP-001 | 拖拽上传 100MB .log 文件           | 1. 打开 VS Code 插件 “日志分析” 面板；2. 拖拽 100MB .log 文件至拖拽区域；3. 观察上传流程           | 1. 拖拽成功识别，显示文件信息；2. 进度条从 0%-100% 实时更新；3. 上传完成提示成功；4. 文件内容完整无丢失 | LOG-UP-01、LOG-UP-01-01、LOG-UP-01-03 | P0     |
| TC-UP-002 | 文件选择器上传 500MB .json 文件    | 1. 点击插件 “选择文件” 按钮；2. 选择本地 500MB .json 文件；3. 确认上传                             | 1. 文件选择成功，启动上传；2. 进度显示准确，无卡顿；3. 上传完成后可进入预处理流程                       | LOG-UP-01、LOG-UP-01-01、LOG-UP-01-03 | P0     |
| TC-UP-003 | 上传 1.2GB .txt 文件（超大小限制） | 1. 通过文件选择器选择 1.2GB .txt 文件；2. 尝试上传                                                   | 1. 系统立即拦截，不触发上传；2. 显示 “文件最大支持 1GB，请压缩或拆分” 提示                            | LOG-UP-01-02                          | P0     |
| TC-UP-004 | 上传.docx 格式文件（非支持格式）   | 1. 拖拽 20MB .docx 文件至上传区域；2. 观察系统反应                                                   | 1. 系统拦截，显示 “仅支持.log、.txt、.json 格式” 提示；2. 不上传文件                                  | LOG-UP-01-01                          | P1     |
| TC-UP-005 | 上传过程中取消（300MB .txt）       | 1. 启动 300MB .txt 文件上传；2. 进度 50% 时点击 “取消” 按钮                                        | 1. 上传立即终止，释放 CPU / 内存资源；2. 显示 “上传已取消” 提示；3. 本地无残留临时文件                | LOG-UP-01-03                          | P0     |
| TC-UP-006 | 日志中 IP 地址隐私屏蔽             | 1. 上传包含 IP 地址（如 192.168.1.1）的.log 文件；2. 查看预处理后的日志内容                          | 1. 隐私屏蔽功能自动触发；2. IP 地址被替换为其他内容不变                                                 | LOG-UP-02、LOG-UP-02-01、LOG-UP-02-02 | P0     |
| TC-UP-007 | 自定义正则表达式屏蔽手机号         | 1. 进入插件设置，添加手机号正则表达式（1\[3-9]\d {9}）；2. 上传包含手机号的日志文件；3. 查看处理结果 | 1. 自定义规则生效；2. 日志中的手机号被替换为 - UP-02-03                                                 | P1                                    |        |
| TC-UP-008 | 上传空文件（0KB .log）             | 1. 选择 0KB .log 文件尝试上传；2. 观察系统提示                                                       | 1. 系统提示 “文件为空，无法上传”；2. 不触发上传和预处理流程                                           | LOG-UP-01-01                          | P1     |
| TC-UP-009 | 网络中断后恢复上传（200MB .json）  | 1. 启动 200MB .json 文件上传；2. 进度 30% 时断开网络；3. 10 秒后恢复网络                             | 1. 网络中断时显示 “网络异常，上传暂停”；2. 网络恢复后自动续传（从 30% 继续）；3. 最终上传成功         | LOG-UP-01-03                          | P1     |

#### 3.1.3 边缘场景补充用例

* 上传文件名含特殊字符（如 @、#、中文）的.log 文件，验证是否正常识别。
* 同时上传 3 个 500MB 文件（并发上传），验证进度显示和上传稳定性。
* 日志中包含多种隐私信息（IP + 用户名 + 密码），验证是否全部屏蔽。
* 自定义正则表达式格式错误，验证系统是否提示 “规则无效”。

### 3.2 日志解析与分析模块（LOG-PA）

#### 3.2.1 测试目标

验证 LogLLM 集成（LOG-PA-01）和实时解析（LOG-PA-02）功能，确保模型加载正常、日志解析准确（PA>96%）、异常检测有效。

#### 3.2.2 核心测试用例

| 用例 ID   | 测试场景                     | 测试步骤                                                                            | 预期结果                                                                                                        | 关联功能                              | 优先级 |
| --------- | ---------------------------- | ----------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------- | ------------------------------------- | ------ |
| TC-PA-001 | 本地部署 LogLLM 模型解析日志 | 1. 配置插件本地 LogLLM 模型路径；2. 上传预处理后的 100MB .log 文件；3. 触发解析功能 | 1. 模型成功加载，无报错；2. 提取日志模板和动态参数准确；3. 解析完成时间 < 30 秒                                 | LOG-PA-01、LOG-PA-01-01、LOG-PA-01-02 | P0     |
| TC-PA-002 | API 调用 LogLLM 模型检测异常 | 1. 配置 LogLLM API 密钥和地址；2. 上传包含 3 条异常日志的.txt 文件；3. 执行异常检测 | 1. API 调用成功，无连接失败；2. 准确标识 3 条异常日志，异常标志（is\_anomaly=true）正确；3. 异常检测置信度≥0.9 | LOG-PA-01、LOG-PA-01-01、LOG-PA-01-03 | P0     |
| TC-PA-003 | 解析准确率验证（PA>96%）     | 1. 准备 1000 条已知模板的标准日志数据；2. 上传并解析；3. 统计解析正确的条目数       | 1. 解析正确条目数≥960 条；2. 动态参数提取无遗漏或错误                                                          | LOG-PA-01-02                          | P0     |
| TC-PA-004 | 实时解析 10MB 增量日志       | 1. 上传 10MB 基础日志并完成解析；2. 追加 5MB 增量日志；3. 触发实时解析              | 1. 实时解析功能启动，仅处理增量数据；2. 解析时间 0 秒；3. 新增日志的模板和异常状态识别准确                      | LOG-PA-02                             | P1     |
| TC-PA-005 | LogLLM 模型加载失败处理      | 1. 配置错误的本地模型路径；2. 尝试解析日志                                          | 1. 系统提示 “模型加载失败，请检查路径”；2. 提供重试按钮；3. 不崩溃，可重新配置                                | LOG-PA-01-01                          | P1     |
| TC-PA-006 | 解析 1GB 超大日志文件        | 1. 上传 1GB 预处理后的.json 日志文件；2. 执行解析；3. 观察处理过程                  | 1. 解析过程无内存溢出（内存占用）；2. 解析完成时间；3. 结果完整无数据丢失                                       | LOG-PA-01-02                          | P1     |
| TC-PA-007 | 无异常日志的解析验证         | 1. 上传 100 条无异常的标准日志；2. 执行异常检测                                     | 1. 解析模板正确；2. 所有日志 is\_anomaly=false；3. 显示 “未检测到异常日志” 提示                               | LOG-PA-01-03                          | P2     |

#### 3.2.3 性能关联用例

* 并发解析 2 个 50MB 日志文件，验证 CPU 使用率 0%，无卡顿。
* 连续解析 10 个不同格式日志文件（.log/.txt/.json），验证模型稳定性。

### 3.3 可视化与交互模块（LOG-VI）

#### 3.3.1 测试目标

验证异常检测可视化（LOG-VI-01）和对话式代理交互（LOG-VI-02）功能，确保界面展示清晰、交互流畅、上下文感知有效。

#### 3.3.2 核心测试用例

| 用例 ID   | 测试场景                        | 测试步骤                                                                             | 预期结果                                                                                                                                     | 关联功能                | 优先级 |
| --------- | ------------------------------- | ------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------- | ------ |
| TC-VI-001 | 侧边栏展示异常日志列表          | 1. 上传含 5 条异常的日志并解析；2. 打开 VS Code 侧边栏 “日志分析” 面板             | 1. 异常日志列表按时间戳排序；2. 异常条目高亮显示（如红色标记）；3. 每条日志显示 log\_id、timestamp、异常置信度                               | LOG-VI-01、LOG-VI-01-01 | P0     |
| TC-VI-002 | 生成日志时间线统计图表          | 1. 上传包含 24 小时内不同时段的 1000 条日志；2. 点击 “统计图表” 按钮               | 1. 成功生成时间线图，展示各时段日志数量和异常分布；2. 图表可缩放、拖拽查看；3. 无渲染卡顿                                                    | LOG-VI-01、LOG-VI-01-02 | P1     |
| TC-VI-003 | 查看日志详细信息                | 1. 在异常列表中点击某条日志；2. 查看详情面板                                         | 1. 详情面板显示 log\_content、模板、动态参数、异常原因；2. 信息完整，格式清晰                                                                | LOG-VI-01-03            | P1     |
| TC-VI-004 | 对话式代理查询异常原因          | 1. 解析出异常日志后，打开聊天窗口；2. 输入问题 “这条日志为什么异常？”；3. 等待响应 | 1. 代理基于当前日志上下文生成响应；2. 准确解释异常原因（如 “连接失败，可能是网络中断”）；3. 响应时间 LOG-VI-02、LOG-VI-02-01、LOG-VI-02-02 | P0                      |        |
| TC-VI-005 | 上下文感知交互                  | 1. 先查询 “异常日志的时间范围？”；2. 再输入 “如何修复这个问题？”                 | 1. 第一个问题响应正确的时间范围；2. 第二个问题基于前序上下文，提供针对性修复建议；3. 不丢失对话上下文                                        | LOG-VI-02-03            | P1     |
| TC-VI-006 | 可视化界面兼容性（Ubuntu 系统） | 1. 在 Ubuntu 22.04 系统安装 VS Code 最新版；2. 上传日志并查看可视化面板              | 1. 界面无错乱、无元素重叠；2. 图表渲染正常；3. 按钮可正常点击                                                                                | LOG-VI-01               | P1     |
| TC-VI-007 | 聊天窗口输入特殊字符查询        | 1. 打开对话代理；2. 输入 “@#￥%……&\* 异常原因？”；3. 观察响应                    | 1. 系统不崩溃；2. 提示 “请输入有效的查询内容” 或尝试解析意图                                                                               | LOG-VI-02-01            | P2     |

#### 3.3.3 易用性补充用例

* 验证侧边栏面板可折叠 / 展开，操作流畅。
* 对话窗口支持回车发送、快捷键关闭，交互便捷。
* 异常高亮颜色醒目，不影响其他内容阅读。

### 3.4 异常解决方案排序模块（LOG-SS）

#### 3.4.1 测试目标

验证多模型集成（LOG-SS-01）、对话式代理交互（LOG-SS-02）、解决方案排序（LOG-SS-03）功能，
